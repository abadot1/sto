{"ast":null,"code":"import { SERVICE_CREATE, SERVICE_DELETE, SERVICE_LOAD, SERVICE_UPDATE } from \"../types\";\nconst initialState = {\n  service: []\n};\nexport const servicesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SERVICE_CREATE:\n      return {\n        ...state,\n        service: [...state.service, action.data]\n      };\n    case SERVICE_UPDATE:\n      const {\n        data\n      } = action;\n      const {\n        service\n      } = state;\n      const itemIndex = service.findIndex(res => res.id === data.id);\n      const upService = [...service.slice(0, itemIndex), data, ...service.slice(itemIndex + 1)];\n      console.log(\"upService\", upService);\n      return {\n        ...state,\n        service: upService\n      };\n    case SERVICE_DELETE:\n      return (() => {\n        const {\n          id\n        } = action;\n        const {\n          service\n        } = state;\n        const itemIndex = service.findIndex(res => res.id === id);\n        const delService = [...service.slice(0, itemIndex), ...service.slice(itemIndex + 1)];\n        return {\n          ...state,\n          service: delService\n        };\n      })();\n    case SERVICE_LOAD:\n      const serviceNew = action.data.map(res => {\n        return {\n          id: res.id,\n          name: res.name,\n          size: res.size,\n          price: res.price\n        };\n      });\n      return {\n        ...state,\n        service: serviceNew\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["SERVICE_CREATE","SERVICE_DELETE","SERVICE_LOAD","SERVICE_UPDATE","initialState","service","servicesReducer","state","action","type","data","itemIndex","findIndex","res","id","upService","slice","console","log","delService","serviceNew","map","name","size","price"],"sources":["C:/Users/Zver/Desktop/sto/src/components/services/servicesReducer.js"],"sourcesContent":["import {\r\n  SERVICE_CREATE,\r\n  SERVICE_DELETE,\r\n  SERVICE_LOAD,\r\n  SERVICE_UPDATE,\r\n} from \"../types\";\r\n\r\nconst initialState = {\r\n  service: [],\r\n};\r\n\r\nexport const servicesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SERVICE_CREATE:\r\n      return {\r\n        ...state,\r\n        service: [...state.service, action.data],\r\n      };\r\n\r\n    case SERVICE_UPDATE:\r\n      const { data } = action;\r\n      const { service } = state;\r\n      const itemIndex = service.findIndex((res) => res.id === data.id);\r\n\r\n      const upService = [\r\n        ...service.slice(0, itemIndex),\r\n        data,\r\n        ...service.slice(itemIndex + 1),\r\n      ];\r\n      console.log(\"upService\", upService);\r\n\r\n      return {\r\n        ...state,\r\n        service: upService,\r\n      };\r\n\r\n    case SERVICE_DELETE:\r\n      return (() => {\r\n        const { id } = action;\r\n        const { service } = state;\r\n        const itemIndex = service.findIndex((res) => res.id === id);\r\n\r\n        const delService = [\r\n          ...service.slice(0, itemIndex),\r\n          ...service.slice(itemIndex + 1),\r\n        ];\r\n\r\n        return {\r\n          ...state,\r\n          service: delService,\r\n        };\r\n      })();\r\n\r\n    case SERVICE_LOAD:\r\n      const serviceNew = action.data.map((res) => {\r\n        return {\r\n          id: res.id,\r\n          name: res.name,\r\n          size: res.size,\r\n          price: res.price,\r\n        };\r\n      });\r\n      return {\r\n        ...state,\r\n        service: serviceNew,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":"AAAA,SACEA,cAAc,EACdC,cAAc,EACdC,YAAY,EACZC,cAAc,QACT,UAAU;AAEjB,MAAMC,YAAY,GAAG;EACnBC,OAAO,EAAE;AACX,CAAC;AAED,OAAO,MAAMC,eAAe,GAAGA,CAACC,KAAK,GAAGH,YAAY,EAAEI,MAAM,KAAK;EAC/D,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKT,cAAc;MACjB,OAAO;QACL,GAAGO,KAAK;QACRF,OAAO,EAAE,CAAC,GAAGE,KAAK,CAACF,OAAO,EAAEG,MAAM,CAACE,IAAI;MACzC,CAAC;IAEH,KAAKP,cAAc;MACjB,MAAM;QAAEO;MAAK,CAAC,GAAGF,MAAM;MACvB,MAAM;QAAEH;MAAQ,CAAC,GAAGE,KAAK;MACzB,MAAMI,SAAS,GAAGN,OAAO,CAACO,SAAS,CAAEC,GAAG,IAAKA,GAAG,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,CAAC;MAEhE,MAAMC,SAAS,GAAG,CAChB,GAAGV,OAAO,CAACW,KAAK,CAAC,CAAC,EAAEL,SAAS,CAAC,EAC9BD,IAAI,EACJ,GAAGL,OAAO,CAACW,KAAK,CAACL,SAAS,GAAG,CAAC,CAAC,CAChC;MACDM,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEH,SAAS,CAAC;MAEnC,OAAO;QACL,GAAGR,KAAK;QACRF,OAAO,EAAEU;MACX,CAAC;IAEH,KAAKd,cAAc;MACjB,OAAO,CAAC,MAAM;QACZ,MAAM;UAAEa;QAAG,CAAC,GAAGN,MAAM;QACrB,MAAM;UAAEH;QAAQ,CAAC,GAAGE,KAAK;QACzB,MAAMI,SAAS,GAAGN,OAAO,CAACO,SAAS,CAAEC,GAAG,IAAKA,GAAG,CAACC,EAAE,KAAKA,EAAE,CAAC;QAE3D,MAAMK,UAAU,GAAG,CACjB,GAAGd,OAAO,CAACW,KAAK,CAAC,CAAC,EAAEL,SAAS,CAAC,EAC9B,GAAGN,OAAO,CAACW,KAAK,CAACL,SAAS,GAAG,CAAC,CAAC,CAChC;QAED,OAAO;UACL,GAAGJ,KAAK;UACRF,OAAO,EAAEc;QACX,CAAC;MACH,CAAC,EAAE,CAAC;IAEN,KAAKjB,YAAY;MACf,MAAMkB,UAAU,GAAGZ,MAAM,CAACE,IAAI,CAACW,GAAG,CAAER,GAAG,IAAK;QAC1C,OAAO;UACLC,EAAE,EAAED,GAAG,CAACC,EAAE;UACVQ,IAAI,EAAET,GAAG,CAACS,IAAI;UACdC,IAAI,EAAEV,GAAG,CAACU,IAAI;UACdC,KAAK,EAAEX,GAAG,CAACW;QACb,CAAC;MACH,CAAC,CAAC;MACF,OAAO;QACL,GAAGjB,KAAK;QACRF,OAAO,EAAEe;MACX,CAAC;IAEH;MACE,OAAOb,KAAK;EAChB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}